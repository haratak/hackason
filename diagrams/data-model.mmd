erDiagram
    users ||--o{ children : has
    children ||--o{ media : has
    media ||--|| analyses : has
    children ||--|| timelines : has
    children ||--o{ newsletters : has
    newsletters ||--o{ prompts : has
    
    users {
        string user_id PK
        string email
        string name
        timestamp created_at
    }
    
    children {
        string child_id PK
        string user_id FK
        string name
        date birth_date
        string gender
        timestamp created_at
    }
    
    media {
        string media_id PK
        string child_id FK
        string storage_url
        string type
        json metadata
        timestamp uploaded_at
    }
    
    analyses {
        string analysis_id PK
        string media_id FK
        json expressions
        json actions
        json objects
        timestamp analyzed_at
    }
    
    timelines {
        string timeline_id PK
        string child_id FK
        json milestones
        json preferences
        timestamp updated_at
    }
    
    newsletters {
        string newsletter_id PK
        string child_id FK
        date period_start
        date period_end
        json content
        string pdf_url
        timestamp generated_at
    }
    
    prompts {
        string prompt_id PK
        string newsletter_id FK
        string user_prompt
        string response
        timestamp created_at
    }