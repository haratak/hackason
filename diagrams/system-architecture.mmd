graph TB
    subgraph "Client Layer"
        FE[Frontend<br/>React Native]
    end
    
    subgraph "API Layer"
        GW[API Gateway<br/>Cloud Run]
    end
    
    subgraph "Service Layer"
        AUTH[Auth Service<br/>Firebase Auth]
        MEDIA[Media Service<br/>Cloud Run]
        ANALYSIS[Analysis Service<br/>Cloud Run]
        NEWS[Newsletter Service<br/>Cloud Run]
    end
    
    subgraph "Data Layer"
        FS[(Firestore<br/>Database)]
    end
    
    subgraph "Infrastructure Layer"
        CS[Cloud Storage]
        VAI[Vertex AI]
        CT[Cloud Tasks]
        PS[Pub/Sub]
    end
    
    FE --> GW
    GW --> AUTH
    GW --> MEDIA
    GW --> ANALYSIS
    GW --> NEWS
    
    AUTH --> FS
    MEDIA --> FS
    MEDIA --> CS
    MEDIA --> PS
    ANALYSIS --> FS
    ANALYSIS --> VAI
    ANALYSIS --> PS
    NEWS --> FS
    NEWS --> VAI
    NEWS --> CS
    NEWS --> CT
    
    style FE fill:#e1f5fe
    style GW fill:#fff3e0
    style AUTH fill:#f3e5f5
    style MEDIA fill:#f3e5f5
    style ANALYSIS fill:#f3e5f5
    style NEWS fill:#f3e5f5
    style FS fill:#e8f5e9
    style CS fill:#fce4ec
    style VAI fill:#fce4ec
    style CT fill:#fce4ec
    style PS fill:#fce4ec