# AI連絡帳アシスタント 要件定義書

## 1. プロダクト概要

AI連絡帳アシスタントは、スマートフォンの写真・動画からAIが子供の成長を分析し、定期的に成長記録（連絡帳）を自動生成するサービスです。

### 1.1 ビジョン
- 家族の日常に埋もれているかけがえのない喜びの瞬間を可視化
- 保護者の負担を最小限に、子供の成長記録を美しく残す
- AIとの対話により、家族だけの特別な成長記録を共創

### 1.2 主要なバリュー
- **半自動化**: AIが候補を提案し、保護者が確認・承認
- **継続的な成長追跡**: 過去の成長記録を考慮した分析
- **柔軟なカスタマイズ**: プロンプトによる出力調整

## 2. 機能要件

### 2.1 コア機能

#### 2.1.1 写真・動画管理
- **半自動アップロード**
  - AIが写真・動画から連絡帳に適した候補を自動選定
  - ユーザーが候補を確認・承認してアップロード確定
  - Google Photoとの連携対応（将来的な拡張として）

#### 2.1.2 AI成長分析
- **画像・動画フレーム分析**
  - 表情認識（笑顔、泣き顔、驚きなど）
  - 動作認識（首すわり、つかまり立ち、歩行など）
  - 物体認識（使用している道具、おもちゃなど）
  - メタデータ分析（撮影日時・場所情報）
  - LLMベースの柔軟な分析（プロンプトでカスタマイズ可能）

- **タイムライン管理**
  - 子供ごとの成長記録を継続的に更新
  - 過去の成長段階を考慮した分析（例：初めての○○を検出）
  - 成長マイルストーンの自動記録
  - 子供の好きなもの・よくあるシチュエーションの学習
  - 親のフィードバックによる記憶のアップデート機能

#### 2.1.3 連絡帳生成
- **定期生成**
  - デフォルト: 週次生成
  - 生成頻度はパラメータとして設定可能
  - 生成タイミングの通知機能

- **コンテンツ生成**
  - 選定された写真・動画のハイライト
  - 客観的な成長コメント（プロンプトで調整可能）
  - 期間内の成長サマリー

#### 2.1.4 ユーザーインタラクション
- **AIとの対話機能**
  - チャット形式でのプロンプト入力
  - リアルタイムな再生成
  - 修正履歴の管理
  - 対話的なフィードバックシステム（具体的な情報を引き出す質問形式）

- **出力形式**
  - PDF形式での出力
  - 画像（PNG/JPEG）形式での出力
  - スマートフォンの共有機能との連携

### 2.2 ユーザー管理

#### 2.2.1 初期設定
- **必須情報**
  - 子供の名前
  - 生年月日
  - 性別（任意）

- **過去データのインポート**
  - 既存の写真・動画から過去のタイムライン自動生成
  - 成長段階の自動推定

#### 2.2.2 プロファイル管理
- 複数の子供のプロファイル作成（将来対応）
- 成長記録の個別管理

## 3. 非機能要件

### 3.1 パフォーマンス
- 写真・動画の分析: 1枚あたり3秒以内
- 連絡帳生成: 30秒以内
- 同時接続ユーザー数: 1,000人以上

### 3.2 セキュリティ
- エンドツーエンド暗号化
- GCPのセキュリティベストプラクティスに準拠
- 個人情報保護法（GDPR、CCPA）への準拠

### 3.3 可用性
- サービス稼働率: 99.9%以上
- 定期メンテナンス時間の最小化

### 3.4 拡張性
- マイクロサービスアーキテクチャ
- 水平スケーリング対応
- APIファースト設計

### 3.5 ユーザビリティ
- モバイルファースト設計
- 直感的なUI/UX
- 多言語対応（初期は日本語のみ）

## 4. システムアーキテクチャ（概要）

### 4.1 インフラストラクチャ
- **クラウドプラットフォーム**: Google Cloud Platform (GCP)
- **主要サービス**:
  - Cloud Run (アプリケーションホスティング)
  - Cloud Storage (写真・動画保存)
  - Firestore (データベース)
  - Vertex AI (AI/ML処理)
  - Cloud Tasks (非同期処理)

### 4.2 技術スタック
- **フロントエンド**: React Native (iOS/Android対応)
- **バックエンド**: Node.js/Python
- **AI/ML**: TensorFlow/PyTorch, Vertex AI
- **API**: RESTful API / GraphQL

## 5. データモデル（概要）

### 5.1 主要エンティティ
- **User** (ユーザー)
- **Child** (子供プロファイル)
- **Media** (写真・動画)
- **Analysis** (AI分析結果)
- **Timeline** (成長タイムライン)
- **Newsletter** (連絡帳)
- **Prompt** (ユーザープロンプト)

### 5.2 データ保持ポリシー
- 写真・動画: 無期限保存（ユーザー削除まで）
- 分析結果: 2年間保存
- 生成された連絡帳: 無期限保存

## 6. 開発フェーズ

### Phase 1: MVP (3ヶ月)
- 基本的な写真アップロード機能
- シンプルなAI分析（表情・動作認識）
- 週次連絡帳の自動生成
- PDF出力機能

### Phase 2: 機能拡張 (3ヶ月)
- タイムライン管理の実装
- AIとの対話機能
- 複数の出力形式対応
- パフォーマンス最適化

### Phase 3: スケール対応 (3ヶ月)
- Google Photo連携
- 複数子供対応
- 多言語対応
- エンタープライズ機能

## 7. 制約事項

- 初期リリースでは日本語のみ対応
- 1家族1子供の制限（初期）
- 動画は30秒以内に制限
- 月間アップロード容量制限（プランによる）

## 8. 将来の拡張性

- 音声分析機能（言葉の発達記録）
- 音声入力によるプロンプト対応
- リアルタイム共有機能
- 保育園・幼稚園との連携
- 成長予測・アドバイス機能
- プリントサービス連携

## 9. 未確定事項・要検討項目

### 9.1 AI分析の詳細 ✅
- **分析項目の範囲**
  - 基本分析：表情・動作・物体認識 + メタデータ（撮影日時・場所）
  - LLMベースの柔軟な分析（プロンプトでカスタマイズ可能）
  - 音声分析は初期スコープから除外（将来拡張として）
  
- **精度要求**
  - 「初めての○○」検出：ある程度の精度（親が確認・修正可能）
  - AIの提案に対して親が確認・フィードバックを与える仕組み
  
- **学習機能**
  - 継続的な写真・動画アップロードによる成長記録の蓄積
  - 対話的フィードバック（「いつ頃でしたか？」等の具体的な質問）
  
### 9.2 連絡帳のフォーマット ✅
- **ページ構成**
  - 1ページ完結型（新聞風レイアウト）
  - 「ベビータイムズ」スタイルの2カラムレイアウト
  - 5つのセクションで構成（写真3枚、テキスト中心2セクション）
  
- **デザイン仕様**
  - モノクロ写真で統一感のあるデザイン
  - セクションタイトル・内容は変数化（AIが毎週最適な内容を生成）
  - 新聞風の清潔でプロフェッショナルな見た目
  
- **コンテンツ生成方針**
  - セクションタイトル：AIが自由に生成（パターン化なし）
  - 文章トーン：客観的・保育士視点（親が嬉しくなる温かみのある表現）
  - 写真選定：成長段階に応じてAIが判断（システムプロンプトで調整可能）
  
- **カスタマイズ性**
  - プロンプトによりセクションの内容調整が可能
  - 写真の選択・差し替えが可能
  - タイトルや日付の自動生成
  
### 9.3 ビジネスモデル ✅
- **料金設計**
  - ハッカソンプロジェクトのため料金設定は未定
  - 将来的な収益化は検討事項として保留
  
- **利用制限（技術的制約）**
  - アップロード制限：現実的な利用を考慮した制限値を設定
  - 処理負荷を考慮した適切な制限（例：月間写真500枚、動画50本程度）
  
- **共有機能**
  - 親がアカウントを作成し、連絡帳を生成
  - 生成された連絡帳はPDF/Webページとして共有可能
  - 家族アカウント機能は初期スコープから除外
  
### 9.4 技術的な検討事項 ✅
- **AI処理の実装方法**
  - 全てクラウド中心で処理（オンデバイス処理なし）
  - 信頼性重視でフル解像度の画像・動画を処理
  - ハッカソンプロジェクトのためプライバシー設計は簡素化
  
- **学習データの扱い**
  - ハッカソンでは考慮せず（将来的な検討事項）
  - サービス化の際に改めて設計
  
- **LLM選定（要検討）**
  - GCP Vertex AIを基本として検討
  - 具体的なモデル選定は実装フェーズで決定
  - マルチモーダル対応（画像・動画分析）が必須要件
  
### 9.5 UX詳細
- **通知設計**
  - 連絡帳生成完了通知のタイミング
  - リマインダー機能の必要性
  - 共有相手への通知機能
  
## 10. 次のステップ

以下の詳細設計は別ドキュメントで実施：
- システムアーキテクチャ詳細設計
- LLM選定と実装方針
- API設計
- データベース設計
- UI/UXワイヤーフレーム